!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){n(2),t.exports=n(1)},function(t,e,n){"use strict";n.r(e),e.default=n.p+"assets/styles/app.min.css"},function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.r(e);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.posY=window.scrollY,this.frame,this.activeSection=0,this.oldSection=0,this.black="#2B2B2B",this.blackAlpha="#2B2B2B85",this.white="#F7F7F7",this.contentElements=document.querySelectorAll(".frame-content"),this.contentSections=document.querySelectorAll(".frame-section"),this.startY=this.contentSections[0].offsetTop,this.contentLastSection=this.contentSections[this.contentSections.length-1].querySelectorAll(".frame-content");var e=0;this.contentLastSection.forEach((function(t){e+=t.clientHeight})),this.endY=this.contentSections[this.contentSections.length-1].offsetTop+this.contentSections[this.contentSections.length-1].offsetHeight-e}var e,n,i;return e=t,(n=[{key:"init",value:function(){this.contentElements.forEach((function(t){t.classList.add("frame-content--hidden")})),this.frame=this.createHTMLNodeFrame(),this.isIpad()||(this.endY-=this.frame.offsetHeight),this.onScroll(),window.addEventListener("scroll",this.onScroll.bind(this)),window.addEventListener("resize",this.onResize.bind(this))}},{key:"setPosY",value:function(t){this.posY=t}},{key:"createHTMLNodeFrame",value:function(){var t=document.createElement("div");t.classList.add("frame");var e=document.createElement("div");return e.classList.add("frame__bg"),t.appendChild(e),t.innerHTML+='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 393 680" class="svg-responsive frame__svg">\n        <g fill="none" fill-rule="evenodd" transform="translate(0 1)"><path fill="#2B2B2B" d="M353 0c22.09139 0 40 17.90861 40 40v598c0 22.09139-17.90861 40-40 40H40c-22.09139 0-40-17.90861-40-40V40C0 17.90861 17.90861 0 40 0h313zm-13 18H54c-22.09139 0-40 17.90861-40 40v550c0 22.09139 17.90861 40 40 40h286c22.09139 0 40-17.90861 40-40V58c0-22.09139-17.90861-40-40-40z"/><path fill="#F7F7F7" fill-opacity=".25" d="M14 608c0 22.09139 17.90861 40 40 40h286c22.09139 0 40-17.90861 40-40v12c0 22.09139-17.90861 40-40 40H54c-22.09139 0-40-17.90861-40-40z"/><rect width="366" height="630" x="14" y="18" stroke="#000" stroke-width="3" rx="40"/></g>\n    </svg>',document.querySelector("main").appendChild(t),t}},{key:"isIpad",value:function(){return!(!/iPad/.test(navigator.userAgent)||window.MSStream)}},{key:"onScroll",value:function(){var t=this;this.setPosY(window.scrollY+window.innerHeight/2),this.posY>=this.startY&&this.posY<=this.endY?(this.frame.classList.add("frame--fixed"),document.body.classList.add("frame-active"),window.outerWidth<1024&&document.documentElement.style.setProperty("--color-text",this.white),this.contentSections.forEach((function(e,n){t.posY>=e.offsetTop&&t.posY<=e.offsetTop+e.offsetHeight&&(t.activeSection=n)})),this.activeSection<this.contentElements.length&&(this.oldSection!==this.activeSection&&(this.contentElements[this.oldSection].classList.remove("frame-content--active"),this.oldSection=this.activeSection),this.contentElements[this.activeSection].classList.add("frame-content--active"))):(document.body.classList.remove("frame-active"),this.contentElements[this.oldSection].classList.remove("frame-content--active"),this.frame.classList.remove("frame--fixed"),document.documentElement.style.setProperty("--color-text",this.black))}},{key:"onResize",value:function(){this.startY=this.contentSections[0].offsetTop,this.contentLastSection=this.contentSections[this.contentSections.length-1].querySelectorAll(".frame-content");var t=0;this.contentLastSection.forEach((function(e){t+=e.clientHeight})),this.endY=this.contentSections[this.contentSections.length-1].offsetTop+this.contentSections[this.contentSections.length-1].offsetHeight-t}}])&&o(e.prototype,n),i&&o(e,i),t}();function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var c=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"init",value:function(){document.body.classList.add("loader")}},{key:"destroy",value:function(){document.body.classList.add("loader--hidden"),document.body.addEventListener("transitionend",(function(t){document.body.classList.remove("loader"),document.body.classList.remove("loader--hidden")}))}}])&&s(e.prototype,n),o&&s(e,o),t}());c.init(),window.addEventListener("load",(function(){(new i).init(),window.setTimeout((function(){c.destroy()}),100)}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9zYXNzL2FwcC5zY3NzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1NjcmVlbkZyYW1lLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Mb2FkZXIuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJTY3JlZW5GcmFtZSIsInRoaXMiLCJwb3NZIiwid2luZG93Iiwic2Nyb2xsWSIsImZyYW1lIiwiYWN0aXZlU2VjdGlvbiIsIm9sZFNlY3Rpb24iLCJibGFjayIsImJsYWNrQWxwaGEiLCJ3aGl0ZSIsImNvbnRlbnRFbGVtZW50cyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImNvbnRlbnRTZWN0aW9ucyIsInN0YXJ0WSIsIm9mZnNldFRvcCIsImNvbnRlbnRMYXN0U2VjdGlvbiIsImxlbmd0aCIsImVsZW1lbnRzVG90YWxIZWlnaHQiLCJmb3JFYWNoIiwiZWxlbWVudCIsImNsaWVudEhlaWdodCIsImVuZFkiLCJvZmZzZXRIZWlnaHQiLCJjbGFzc0xpc3QiLCJhZGQiLCJjcmVhdGVIVE1MTm9kZUZyYW1lIiwiaXNJcGFkIiwib25TY3JvbGwiLCJhZGRFdmVudExpc3RlbmVyIiwib25SZXNpemUiLCJ2YWwiLCJjb250YWluZXIiLCJjcmVhdGVFbGVtZW50IiwiYmciLCJhcHBlbmRDaGlsZCIsImlubmVySFRNTCIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXN0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiTVNTdHJlYW0iLCJzZXRQb3NZIiwiaW5uZXJIZWlnaHQiLCJib2R5Iiwib3V0ZXJXaWR0aCIsImRvY3VtZW50RWxlbWVudCIsInN0eWxlIiwic2V0UHJvcGVydHkiLCJzZWN0aW9uIiwiaW5kZXgiLCJyZW1vdmUiLCJsb2FkZXIiLCJldmVudCIsImluaXQiLCJzZXRUaW1lb3V0IiwiZGVzdHJveSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZD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LEksV0NIWCxjLDRGQUFjLFMsc0RBR1Z6QyxTQUFTaUMsS0FBS3BCLFVBQVVDLElBQUksWSxnQ0FJNUJkLFNBQVNpQyxLQUFLcEIsVUFBVUMsSUFBSSxrQkFDNUJkLFNBQVNpQyxLQUFLZixpQkFBaUIsaUJBQWlCLFNBQUF3QixHQUM1QzFDLFNBQVNpQyxLQUFLcEIsVUFBVTJCLE9BQU8sVUFDL0J4QyxTQUFTaUMsS0FBS3BCLFVBQVUyQixPQUFPLDBCLGlDRE4zQ0MsRUFBT0UsT0FHUHBELE9BQU8yQixpQkFBaUIsUUFBUSxZQUdSLElBQUk5QixHQUNadUQsT0FHWnBELE9BQU9xRCxZQUFXLFdBQ2RILEVBQU9JLFlBQ1IiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhc3NldHMvc3R5bGVzL2FwcC5taW4uY3NzXCI7IiwiLypcbiAqIFRPRE8gOlxuICogLSBPbiByZXNpemVcbiovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjcmVlbkZyYW1lIHtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBkaWZmZXJlbnQgdmFyaWFibGVzIG9mIHRoZSBjbGFzc1xuICAgICAqIFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnBvc1kgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgICAgdGhpcy5mcmFtZTtcbiAgICAgICAgdGhpcy5hY3RpdmVTZWN0aW9uID0gMDtcbiAgICAgICAgdGhpcy5vbGRTZWN0aW9uID0gMDtcblxuICAgICAgICB0aGlzLmJsYWNrID0gXCIjMkIyQjJCXCI7XG4gICAgICAgIHRoaXMuYmxhY2tBbHBoYSA9IFwiIzJCMkIyQjg1XCI7XG4gICAgICAgIHRoaXMud2hpdGUgPSBcIiNGN0Y3RjdcIjtcblxuICAgICAgICAvLyBHZXQgYWxsIHRoZSBpbWFnZXMgYW5kIHNlY3Rpb25zIG9mIHRoZSBzY3JvbGwgYW5pbWF0aW9uXG4gICAgICAgIHRoaXMuY29udGVudEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZyYW1lLWNvbnRlbnQnKTtcbiAgICAgICAgdGhpcy5jb250ZW50U2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZnJhbWUtc2VjdGlvbicpO1xuXG4gICAgICAgIHRoaXMuc3RhcnRZID0gdGhpcy5jb250ZW50U2VjdGlvbnNbMF0ub2Zmc2V0VG9wO1xuICAgICAgICB0aGlzLmNvbnRlbnRMYXN0U2VjdGlvbiA9IHRoaXMuY29udGVudFNlY3Rpb25zW3RoaXMuY29udGVudFNlY3Rpb25zLmxlbmd0aC0xXS5xdWVyeVNlbGVjdG9yQWxsKCcuZnJhbWUtY29udGVudCcpO1xuICAgICAgICBsZXQgZWxlbWVudHNUb3RhbEhlaWdodCA9IDA7XG4gICAgICAgIHRoaXMuY29udGVudExhc3RTZWN0aW9uLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBlbGVtZW50c1RvdGFsSGVpZ2h0ICs9IGVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbmRZID0gdGhpcy5jb250ZW50U2VjdGlvbnNbdGhpcy5jb250ZW50U2VjdGlvbnMubGVuZ3RoLTFdLm9mZnNldFRvcCArIHRoaXMuY29udGVudFNlY3Rpb25zW3RoaXMuY29udGVudFNlY3Rpb25zLmxlbmd0aC0xXS5vZmZzZXRIZWlnaHQgLSBlbGVtZW50c1RvdGFsSGVpZ2h0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhpZGUgYWxsIHRoZSBpbWFnZXNcbiAgICAgKiBDcmVhdGUgdGhlIG5vZGUgd2l0aCB0aGUgZnJhbWUgb2YgdGhlIHNjcmVlblxuICAgICAqIFNldHMgdGhlIGV2ZW50IGxpc3RlbmVyIG9uIHRoZSBzY3JvbGxcbiAgICAgKi9cbiAgICBpbml0KCkge1xuICAgICAgICAvLyBBZGQgdGhlIGNsYXNzIHRvIGhpZGUgaW1hZ2VzXG4gICAgICAgIHRoaXMuY29udGVudEVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ZyYW1lLWNvbnRlbnQtLWhpZGRlbicpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmZyYW1lID0gdGhpcy5jcmVhdGVIVE1MTm9kZUZyYW1lKCk7XG5cbiAgICAgICAgLy8gSWYgdGhpcyBpcyBhbiBpUGFkLCB0aGUgY2FsY3VsYXRpb24gb2YgdGhlIGhlaWdodFxuICAgICAgICAvLyBhY3RpbmcgZGlmZmVyZW50bHkuIE5vIG5lZWQgdG8gc3VidHJhY3QgdGhlIGhlaWdodFxuICAgICAgICAvLyBvZiB0aGUgZnJhbWVcbiAgICAgICAgaWYoIXRoaXMuaXNJcGFkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZW5kWSAtPSB0aGlzLmZyYW1lLm9mZnNldEhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCB0aGlzIGluaXRpYWwgcG9zaXRpb25cbiAgICAgICAgLy8gYW5kIHRoZSBldmVudCBsaXN0ZW5lclxuICAgICAgICB0aGlzLm9uU2Nyb2xsKCk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLm9uU2Nyb2xsLmJpbmQodGhpcykpO1xuXG4gICAgICAgIC8vIFNldCBldmVudCBsaXN0ZW5lciBvbiByZXNpemVcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIG9mIHRoZSB2YXJpYWJsZSB0aGlzLnBvc1lcbiAgICAgKiBAcGFyYW0ge2ludH0gdmFsIFZhbHVlIHRoYXQgd2lsbCBiZSBzdG9ja2VkIGluIHRoZSB2YXJpYWJsZSB0aGlzLnBvc1lcbiAgICAgKi9cbiAgICBzZXRQb3NZKHZhbCkge1xuICAgICAgICB0aGlzLnBvc1kgPSB2YWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRoZSBIVE1MIEVsZW1lbnRzIG9mIHRoZSBGcmFtZSBhbmQgYWRkIHRoZW0gdG8gdGhlIG1haW5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7RWxlbWVudH0gVGhlIFNWRyBlbGVtZW50IHRoYXQgY29udGFpbnMgdGhlIHNjcmVlbiBmcmFtZVxuICAgICAqL1xuICAgIGNyZWF0ZUhUTUxOb2RlRnJhbWUoKSB7XG4gICAgICAgIC8vIFRoZSBkaXYgY29udGFpbmVyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnZnJhbWUnKTtcblxuICAgICAgICAvLyBUaGUgZGl2IGJhY2tncm91bmRcbiAgICAgICAgY29uc3QgYmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgYmcuY2xhc3NMaXN0LmFkZCgnZnJhbWVfX2JnJyk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChiZyk7XG5cbiAgICAgICAgLy8gQWRkIHRoZSBTVkdcbiAgICAgICAgY29uc3Qgc3ZnID0gYDxzdmcgdmVyc2lvbj1cIjEuMVwiIGlkPVwiTGF5ZXJfMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDM5MyA2ODBcIiBjbGFzcz1cInN2Zy1yZXNwb25zaXZlIGZyYW1lX19zdmdcIj5cbiAgICAgICAgPGcgZmlsbD1cIm5vbmVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDAgMSlcIj48cGF0aCBmaWxsPVwiIzJCMkIyQlwiIGQ9XCJNMzUzIDBjMjIuMDkxMzkgMCA0MCAxNy45MDg2MSA0MCA0MHY1OThjMCAyMi4wOTEzOS0xNy45MDg2MSA0MC00MCA0MEg0MGMtMjIuMDkxMzkgMC00MC0xNy45MDg2MS00MC00MFY0MEMwIDE3LjkwODYxIDE3LjkwODYxIDAgNDAgMGgzMTN6bS0xMyAxOEg1NGMtMjIuMDkxMzkgMC00MCAxNy45MDg2MS00MCA0MHY1NTBjMCAyMi4wOTEzOSAxNy45MDg2MSA0MCA0MCA0MGgyODZjMjIuMDkxMzkgMCA0MC0xNy45MDg2MSA0MC00MFY1OGMwLTIyLjA5MTM5LTE3LjkwODYxLTQwLTQwLTQwelwiLz48cGF0aCBmaWxsPVwiI0Y3RjdGN1wiIGZpbGwtb3BhY2l0eT1cIi4yNVwiIGQ9XCJNMTQgNjA4YzAgMjIuMDkxMzkgMTcuOTA4NjEgNDAgNDAgNDBoMjg2YzIyLjA5MTM5IDAgNDAtMTcuOTA4NjEgNDAtNDB2MTJjMCAyMi4wOTEzOS0xNy45MDg2MSA0MC00MCA0MEg1NGMtMjIuMDkxMzkgMC00MC0xNy45MDg2MS00MC00MHpcIi8+PHJlY3Qgd2lkdGg9XCIzNjZcIiBoZWlnaHQ9XCI2MzBcIiB4PVwiMTRcIiB5PVwiMThcIiBzdHJva2U9XCIjMDAwXCIgc3Ryb2tlLXdpZHRoPVwiM1wiIHJ4PVwiNDBcIi8+PC9nPlxuICAgIDwvc3ZnPmA7XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgKz0gc3ZnO1xuXG4gICAgICAgIC8vIEFwcGVuZCB0aGUgY29udGFpbmVyIHRvIHRoZSBtYWluXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4nKS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHVzZXIgaXMgb24gYW4gSXBhZFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtib29sfSB0cnVlIG9yIGZhbHNlXG4gICAgICovXG4gICAgaXNJcGFkKCkge1xuICAgICAgICBpZiAoL2lQYWQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgIXdpbmRvdy5NU1N0cmVhbSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgb25TY3JvbGwoKSB7XG4gICAgICAgIHRoaXMuc2V0UG9zWSh3aW5kb3cuc2Nyb2xsWSArICh3aW5kb3cuaW5uZXJIZWlnaHQvMikpO1xuICAgICAgICAgICAgXG4gICAgICAgIGlmKHRoaXMucG9zWSA+PSB0aGlzLnN0YXJ0WSAmJiB0aGlzLnBvc1kgPD0gdGhpcy5lbmRZKSB7XG4gICAgICAgICAgICAvLyBUZWxsIHRoZSBmcmFtZSB0byBiZSBmaXhlZCBwb3NpdGlvblxuICAgICAgICAgICAgdGhpcy5mcmFtZS5jbGFzc0xpc3QuYWRkKCdmcmFtZS0tZml4ZWQnKTtcbiAgICAgICAgICAgIC8vIEFkZCBjbGFzcyBvbiB0aGUgYm9keSBmb3IgY3VzdG9tIENTU1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdmcmFtZS1hY3RpdmUnKTtcbiAgICAgICAgICAgIC8vIENoYW5nZSBjb2xvciB0ZXh0IGlmIHRoaXMgaXMgc21hbGwgc2NyZWVuXG4gICAgICAgICAgICBpZih3aW5kb3cub3V0ZXJXaWR0aCA8IDEwMjQpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItdGV4dCcsIHRoaXMud2hpdGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUbyBrbm93IHdoaWNoIHNlY3Rpb24gdGhlIHNjcm9sbCBpcyBvblxuICAgICAgICAgICAgdGhpcy5jb250ZW50U2VjdGlvbnMuZm9yRWFjaCgoc2VjdGlvbiwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLnBvc1kgPj0gc2VjdGlvbi5vZmZzZXRUb3AgJiYgdGhpcy5wb3NZIDw9IHNlY3Rpb24ub2Zmc2V0VG9wICsgc2VjdGlvbi5vZmZzZXRIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVTZWN0aW9uID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZih0aGlzLmFjdGl2ZVNlY3Rpb24gPCB0aGlzLmNvbnRlbnRFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBtb3ZlIG9uIGFuIG9udGhlciBzZWN0aW9uXG4gICAgICAgICAgICAgICAgaWYodGhpcy5vbGRTZWN0aW9uICE9PSB0aGlzLmFjdGl2ZVNlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaGlkZSB0aGUgb2xkIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZW50RWxlbWVudHNbdGhpcy5vbGRTZWN0aW9uXS5jbGFzc0xpc3QucmVtb3ZlKCdmcmFtZS1jb250ZW50LS1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIG9sZCBzZWN0aW9uIGJlY29tZXMgdGhlIG5ldyBvbmVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbGRTZWN0aW9uID0gdGhpcy5hY3RpdmVTZWN0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTaG93IHRoZSBjb250ZW50XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50RWxlbWVudHNbdGhpcy5hY3RpdmVTZWN0aW9uXS5jbGFzc0xpc3QuYWRkKCdmcmFtZS1jb250ZW50LS1hY3RpdmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgY2xhc3Mgb24gdGhlIGJvZHlcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnZnJhbWUtYWN0aXZlJyk7XG4gICAgICAgICAgICAvLyBoaWRlIHRoZSBvbGQgY29udGVudFxuICAgICAgICAgICAgdGhpcy5jb250ZW50RWxlbWVudHNbdGhpcy5vbGRTZWN0aW9uXS5jbGFzc0xpc3QucmVtb3ZlKCdmcmFtZS1jb250ZW50LS1hY3RpdmUnKTtcbiAgICAgICAgICAgIC8vIFNldCB0aGUgdG9wIENTUyBwcm9wZXJ0eSBvZiB0aGUgZnJhbWVcbiAgICAgICAgICAgIHRoaXMuZnJhbWUuY2xhc3NMaXN0LnJlbW92ZSgnZnJhbWUtLWZpeGVkJyk7XG4gICAgICAgICAgICAvLyBDaGFuZ2UgY29sb3IgdGV4dFxuICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLXRleHQnLCB0aGlzLmJsYWNrKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgcHJvcGVydGllcyB0aGlzLnN0YXJ0WSBhbmQgdGhpcy5lbmRZXG4gICAgb25SZXNpemUoKSB7XG4gICAgICAgIHRoaXMuc3RhcnRZID0gdGhpcy5jb250ZW50U2VjdGlvbnNbMF0ub2Zmc2V0VG9wO1xuICAgICAgICB0aGlzLmNvbnRlbnRMYXN0U2VjdGlvbiA9IHRoaXMuY29udGVudFNlY3Rpb25zW3RoaXMuY29udGVudFNlY3Rpb25zLmxlbmd0aC0xXS5xdWVyeVNlbGVjdG9yQWxsKCcuZnJhbWUtY29udGVudCcpO1xuICAgICAgICBsZXQgZWxlbWVudHNUb3RhbEhlaWdodCA9IDA7XG4gICAgICAgIHRoaXMuY29udGVudExhc3RTZWN0aW9uLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBlbGVtZW50c1RvdGFsSGVpZ2h0ICs9IGVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbmRZID0gdGhpcy5jb250ZW50U2VjdGlvbnNbdGhpcy5jb250ZW50U2VjdGlvbnMubGVuZ3RoLTFdLm9mZnNldFRvcCArIHRoaXMuY29udGVudFNlY3Rpb25zW3RoaXMuY29udGVudFNlY3Rpb25zLmxlbmd0aC0xXS5vZmZzZXRIZWlnaHQgLSBlbGVtZW50c1RvdGFsSGVpZ2h0O1xuICAgIH1cbn0iLCJpbXBvcnQgU2NyZWVuRnJhbWUgZnJvbSAnLi9jb21wb25lbnRzL1NjcmVlbkZyYW1lJztcbmltcG9ydCBMb2FkZXIgZnJvbSAnLi9jb21wb25lbnRzL0xvYWRlcic7XG5cbi8vIExvYWRlclxuY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcigpO1xubG9hZGVyLmluaXQoKTtcblxuLy8gV2FpdGluZyBmb3IgdGhlIHBhZ2UgdG8gbG9hZFxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpIHtcbiAgICBcbiAgICAvLyBMYXVuY2ggdGhlIGZyYW1lIHNjcmlwdCAhXG4gICAgY29uc3Qgc2NyZWVuRnJhbWUgPSBuZXcgU2NyZWVuRnJhbWUoKTtcbiAgICBzY3JlZW5GcmFtZS5pbml0KCk7XG5cbiAgICAvLyBSZW1vdmUgbG9hZGVyIHdoZW4gdGhlIGxvYWRpbmcgb2YgdGhlIHBhZ2UgaXMgY29tcGxldGVcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGxvYWRlci5kZXN0cm95KCk7XG4gICAgfSwgMTAwKTtcbn0pOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYWRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7fVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdsb2FkZXInKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2xvYWRlci0taGlkZGVuJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbG9hZGVyJyk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2xvYWRlci0taGlkZGVuJyk7XG4gICAgICAgIH0pXG4gICAgfVxufSJdLCJzb3VyY2VSb290IjoiIn0=