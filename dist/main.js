!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){n(2),t.exports=n(1)},function(t,e,n){"use strict";n.r(e),e.default=n.p+"assets/styles/app.min.css"},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.r(e);var s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o(this,t),this.posY=window.scrollY,this.frame,this.activeSection=0,this.oldSection=0,this.black="#2B2B2B",this.blackAlpha="#2B2B2B85",this.white="#F7F7F7",this.contentElements=document.querySelectorAll(".frame-content"),this.contentSections=document.querySelectorAll(".frame-section");var i=0;this.contentElements.forEach((function(t){i+=t.clientHeight,console.log(t.clientHeight)})),this.startY=e.offsetTop,this.endY=n?n.offsetHeight:e.offsetTop+e.offsetHeight-i}var e,n,s;return e=t,(n=[{key:"init",value:function(){this.contentElements.forEach((function(t){t.classList.add("frame-content--hidden")})),this.frame=this.createHTMLNodeFrame(),this.endY-=this.frame.offsetHeight,this.frame.style.top=this.startY+"px",console.log(this.startY,this.endY),window.addEventListener("scroll",function(){var t=this;this.setPosY(window.scrollY),this.posY>=this.startY&&this.posY<=this.endY?(console.log(window.scrollY,this.startY,this.endY),this.frame.classList.add("frame--fixed"),document.documentElement.style.setProperty("--frame-bg",this.blackAlpha),document.documentElement.style.setProperty("--color-text",this.white),this.contentSections.forEach((function(e,n){t.posY>=e.offsetTop&&t.posY<=e.offsetTop+e.offsetHeight&&(t.activeSection=n)})),this.activeSection<this.contentElements.length&&(this.oldSection!==this.activeSection&&(this.contentElements[this.oldSection].classList.remove("frame-content--active"),this.oldSection=this.activeSection),this.contentElements[this.activeSection].classList.add("frame-content--active"))):(console.log("coucou"),this.posY>this.endY?this.frame.style.top=this.endY+"px":this.frame.style.top=this.startY+"px",this.contentElements[this.oldSection].classList.remove("frame-content--active"),this.frame.classList.remove("frame--fixed"),document.documentElement.style.setProperty("--frame-bg","transparent"),document.documentElement.style.setProperty("--color-text",this.black))}.bind(this))}},{key:"setPosY",value:function(t){this.posY=t}},{key:"createHTMLNodeFrame",value:function(){var t=document.createElement("div");t.classList.add("frame");var e=document.createElement("div");return e.classList.add("frame__bg"),t.appendChild(e),t.innerHTML+='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 393 680" class="svg-responsive frame__svg">\n        <g fill="none" fill-rule="evenodd" transform="translate(0 1)"><path fill="#2B2B2B" d="M353 0c22.09139 0 40 17.90861 40 40v598c0 22.09139-17.90861 40-40 40H40c-22.09139 0-40-17.90861-40-40V40C0 17.90861 17.90861 0 40 0h313zm-13 18H54c-22.09139 0-40 17.90861-40 40v550c0 22.09139 17.90861 40 40 40h286c22.09139 0 40-17.90861 40-40V58c0-22.09139-17.90861-40-40-40z"/><path fill="#F7F7F7" fill-opacity=".25" d="M14 608c0 22.09139 17.90861 40 40 40h286c22.09139 0 40-17.90861 40-40v12c0 22.09139-17.90861 40-40 40H54c-22.09139 0-40-17.90861-40-40z"/><rect width="366" height="630" x="14" y="18" stroke="#000" stroke-width="3" rx="40"/></g>\n    </svg>',document.querySelector("main").appendChild(t),t}}])&&i(e.prototype,n),s&&i(e,s),t}();window.addEventListener("load",(function(t){var e=document.querySelector(".experience");new s(e).init()}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9zYXNzL2FwcC5zY3NzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1NjcmVlbkZyYW1lLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlNjcmVlbkZyYW1lIiwiSFRNTE5vZGVTdGFydCIsIkhUTUxOb2RlRW5kIiwidGhpcyIsInBvc1kiLCJ3aW5kb3ciLCJzY3JvbGxZIiwiZnJhbWUiLCJhY3RpdmVTZWN0aW9uIiwib2xkU2VjdGlvbiIsImJsYWNrIiwiYmxhY2tBbHBoYSIsIndoaXRlIiwiY29udGVudEVsZW1lbnRzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29udGVudFNlY3Rpb25zIiwiZWxlbWVudHNUb3RhbEhlaWdodCIsImZvckVhY2giLCJlbGVtZW50IiwiY2xpZW50SGVpZ2h0IiwiY29uc29sZSIsImxvZyIsInN0YXJ0WSIsIm9mZnNldFRvcCIsImVuZFkiLCJvZmZzZXRIZWlnaHQiLCJjbGFzc0xpc3QiLCJhZGQiLCJjcmVhdGVIVE1MTm9kZUZyYW1lIiwic3R5bGUiLCJ0b3AiLCJhZGRFdmVudExpc3RlbmVyIiwic2V0UG9zWSIsImRvY3VtZW50RWxlbWVudCIsInNldFByb3BlcnR5Iiwic2VjdGlvbiIsImluZGV4IiwibGVuZ3RoIiwicmVtb3ZlIiwidmFsIiwiY29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsImJnIiwiYXBwZW5kQ2hpbGQiLCJpbm5lckhUTUwiLCJxdWVyeVNlbGVjdG9yIiwiZXZlbnQiLCJIVE1MTm9kZUV4cGVyaWVuY2UiLCJpbml0Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJ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QUFPRCxLQUFLc0IsS0FFaEJ0QixLQUFLSSxNQUFNdUIsTUFBTUMsSUFBTTVCLEtBQUtzQixLQUFPLEtBSW5DdEIsS0FBS0ksTUFBTXVCLE1BQU1DLElBQU01QixLQUFLb0IsT0FBUyxLQUd6Q3BCLEtBQUtVLGdCQUFnQlYsS0FBS00sWUFBWWtCLFVBQVVZLE9BQU8seUJBRXZEcEMsS0FBS0ksTUFBTW9CLFVBQVVZLE9BQU8sZ0JBRTVCekIsU0FBU29CLGdCQUFnQkosTUFBTUssWUFBWSxhQUFjLGVBRXpEckIsU0FBU29CLGdCQUFnQkosTUFBTUssWUFBWSxlQUFnQmhDLEtBQUtPLFNBRXRFbEIsS0FBS1csUyw4QkFPSHFDLEdBQ0pyQyxLQUFLQyxLQUFPb0MsSSw0Q0FVWixJQUFNQyxFQUFZM0IsU0FBUzRCLGNBQWMsT0FDekNELEVBQVVkLFVBQVVDLElBQUksU0FHeEIsSUFBTWUsRUFBSzdCLFNBQVM0QixjQUFjLE9BYWxDLE9BWkFDLEVBQUdoQixVQUFVQyxJQUFJLGFBQ2pCYSxFQUFVRyxZQUFZRCxHQU10QkYsRUFBVUksV0FIRSw4d0JBTVovQixTQUFTZ0MsY0FBYyxRQUFRRixZQUFZSCxHQUVwQ0EsTyxnQ0NuSmZwQyxPQUFPMkIsaUJBQWlCLFFBQVEsU0FBU2UsR0FDckMsSUFBTUMsRUFBcUJsQyxTQUFTZ0MsY0FBYyxlQUM5QixJQUFJOUMsRUFBWWdELEdBQ3hCQyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImFzc2V0cy9zdHlsZXMvYXBwLm1pbi5jc3NcIjsiLCIvKlxuICogVE9ETyA6XG4gKiAtIE9uIHJlc2l6ZVxuICogLSBhbmltYXRpb24gc3ZnXG4gKiAtIGFtw6lsaW9yZXIgbG9uZ3VldXIgdmlzaWJpbGl0w6kgYW5pbWF0aW9uXG4gKiAtIFJldm9pciBhcHBhcml0aW9uIGRlcyBTVkdcbiovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjcmVlbkZyYW1lIHtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBkaWZmZXJlbnQgdmFyaWFibGVzIG9mIHRoZSBjbGFzc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gSFRNTE5vZGVTdGFydCBUaGUgSFRNTCBFbGVtZW50IHdoZXJlIHRoZSBzY3JlZW4gZnJhbWUgbXVzdCBiZSBmaXhlZFxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gW0hUTUxOb2RlRW5kID0gbnVsbF0gVGhlIEhUTUwgRWxlbWVudCB3aGVyZSB0aGUgc2NyZWVuIGZyYW1lIG11c3QgYmUgdW5maXhlZFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKEhUTUxOb2RlU3RhcnQsIEhUTUxOb2RlRW5kID0gbnVsbCkge1xuICAgICAgICB0aGlzLnBvc1kgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgICAgdGhpcy5mcmFtZTtcbiAgICAgICAgdGhpcy5hY3RpdmVTZWN0aW9uID0gMDtcbiAgICAgICAgdGhpcy5vbGRTZWN0aW9uID0gMDtcblxuICAgICAgICB0aGlzLmJsYWNrID0gXCIjMkIyQjJCXCI7XG4gICAgICAgIHRoaXMuYmxhY2tBbHBoYSA9IFwiIzJCMkIyQjg1XCI7XG4gICAgICAgIHRoaXMud2hpdGUgPSBcIiNGN0Y3RjdcIjtcblxuICAgICAgICAvLyBHZXQgYWxsIHRoZSBpbWFnZXMgYW5kIHNlY3Rpb25zIG9mIHRoZSBzY3JvbGwgYW5pbWF0aW9uXG4gICAgICAgIHRoaXMuY29udGVudEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZyYW1lLWNvbnRlbnQnKTtcbiAgICAgICAgdGhpcy5jb250ZW50U2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZnJhbWUtc2VjdGlvbicpO1xuXG4gICAgICAgIC8vIEdldCB0b3RhbCBoZWlnaHRzIG9mIGFsbCB0aGUgY29udGVudCBpbWFnZXNcbiAgICAgICAgbGV0IGVsZW1lbnRzVG90YWxIZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLmNvbnRlbnRFbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgZWxlbWVudHNUb3RhbEhlaWdodCArPSBlbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVsZW1lbnQuY2xpZW50SGVpZ2h0KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zdGFydFkgPSBIVE1MTm9kZVN0YXJ0Lm9mZnNldFRvcDtcbiAgICAgICAgLy8gSWYgdGhlIHBhcmFtZXRlciBIVE1MTm9kZUVuZCBpcyBzZXRcbiAgICAgICAgaWYoSFRNTE5vZGVFbmQpIHtcbiAgICAgICAgICAgIHRoaXMuZW5kWSA9IEhUTUxOb2RlRW5kLm9mZnNldEhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIG5vdCwgdXNlIHRoZSBib3R0b20gcG9zaXRpb24gb2YgdGhlIGVsZW1lbnQgSFRNTE5vZGVTdGFydFxuICAgICAgICAgICAgdGhpcy5lbmRZID0gSFRNTE5vZGVTdGFydC5vZmZzZXRUb3AgKyBIVE1MTm9kZVN0YXJ0Lm9mZnNldEhlaWdodCAtIGVsZW1lbnRzVG90YWxIZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIaWRlIGFsbCB0aGUgaW1hZ2VzXG4gICAgICogQ3JlYXRlIHRoZSBub2RlIHdpdGggdGhlIGZyYW1lIG9mIHRoZSBzY3JlZW5cbiAgICAgKiBTZXRzIHRoZSBldmVudCBsaXN0ZW5lciBvbiB0aGUgc2Nyb2xsXG4gICAgICovXG4gICAgaW5pdCgpIHtcbiAgICAgICAgLy8gQWRkIHRoZSBjbGFzcyB0byBoaWRlIGltYWdlc1xuICAgICAgICB0aGlzLmNvbnRlbnRFbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdmcmFtZS1jb250ZW50LS1oaWRkZW4nKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5mcmFtZSA9IHRoaXMuY3JlYXRlSFRNTE5vZGVGcmFtZSgpO1xuICAgICAgICAvLyBVcGRhdGUgdGhpcy5lbmRZXG4gICAgICAgIHRoaXMuZW5kWSAtPSB0aGlzLmZyYW1lLm9mZnNldEhlaWdodDtcbiAgICAgICAgdGhpcy5mcmFtZS5zdHlsZS50b3AgPSB0aGlzLnN0YXJ0WSArICdweCc7IC8vIFNldCB0aGUgcG9zaXRpb24gYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgSFRNTCBlbGVtZW50XG5cbiAgICAgICAgY29uc29sZS5sb2codGhpcy5zdGFydFksIHRoaXMuZW5kWSk7XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5zZXRQb3NZKHdpbmRvdy5zY3JvbGxZKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYodGhpcy5wb3NZID49IHRoaXMuc3RhcnRZICYmIHRoaXMucG9zWSA8PSB0aGlzLmVuZFkpIHtcbiAgICAgICAgICAgICAgICAvLyBUZWxsIHRoZSBmcmFtZSB0byBiZSBmaXhlZCBwb3NpdGlvblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHdpbmRvdy5zY3JvbGxZLCB0aGlzLnN0YXJ0WSwgdGhpcy5lbmRZKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lLmNsYXNzTGlzdC5hZGQoJ2ZyYW1lLS1maXhlZCcpO1xuICAgICAgICAgICAgICAgIC8vIENoYW5nZSBiYWNrZ3JvdW5kIGNvbG9yXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWZyYW1lLWJnJywgdGhpcy5ibGFja0FscGhhKTtcbiAgICAgICAgICAgICAgICAvLyBDaGFuZ2UgY29sb3IgdGV4dFxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci10ZXh0JywgdGhpcy53aGl0ZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBUbyBrbm93IHdoaWNoIHNlY3Rpb24gdGhlIHNjcm9sbCBpcyBvblxuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudFNlY3Rpb25zLmZvckVhY2goKHNlY3Rpb24sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMucG9zWSA+PSBzZWN0aW9uLm9mZnNldFRvcCAmJiB0aGlzLnBvc1kgPD0gc2VjdGlvbi5vZmZzZXRUb3AgKyBzZWN0aW9uLm9mZnNldEhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVTZWN0aW9uID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmFjdGl2ZVNlY3Rpb24gPCB0aGlzLmNvbnRlbnRFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgbW92ZSBvbiBhbiBvbnRoZXIgc2VjdGlvblxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLm9sZFNlY3Rpb24gIT09IHRoaXMuYWN0aXZlU2VjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGlkZSB0aGUgb2xkIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGVudEVsZW1lbnRzW3RoaXMub2xkU2VjdGlvbl0uY2xhc3NMaXN0LnJlbW92ZSgnZnJhbWUtY29udGVudC0tYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgb2xkIHNlY3Rpb24gYmVjb21lcyB0aGUgbmV3IG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbGRTZWN0aW9uID0gdGhpcy5hY3RpdmVTZWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFNob3cgdGhlIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZW50RWxlbWVudHNbdGhpcy5hY3RpdmVTZWN0aW9uXS5jbGFzc0xpc3QuYWRkKCdmcmFtZS1jb250ZW50LS1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY291Y291Jyk7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5wb3NZID4gdGhpcy5lbmRZKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgZnJhbWUgcG9zaXRpb24gYXQgdGhlIGVuZCBvZiB0aGUgSFRNTCBFbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJhbWUuc3R5bGUudG9wID0gdGhpcy5lbmRZICsgJ3B4JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgZnJhbWUgcG9zaXRpb24gYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgSFRNTCBFbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJhbWUuc3R5bGUudG9wID0gdGhpcy5zdGFydFkgKyAncHgnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBoaWRlIHRoZSBvbGQgY29udGVudFxuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudEVsZW1lbnRzW3RoaXMub2xkU2VjdGlvbl0uY2xhc3NMaXN0LnJlbW92ZSgnZnJhbWUtY29udGVudC0tYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgLy8gU2V0IHRoZSB0b3AgQ1NTIHByb3BlcnR5IG9mIHRoZSBmcmFtZVxuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWUuY2xhc3NMaXN0LnJlbW92ZSgnZnJhbWUtLWZpeGVkJyk7XG4gICAgICAgICAgICAgICAgLy8gQ2hhbmdlIGJhY2tncm91bmQgY29sb3JcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tZnJhbWUtYmcnLCAndHJhbnNwYXJlbnQnKTtcbiAgICAgICAgICAgICAgICAvLyBDaGFuZ2UgY29sb3IgdGV4dFxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci10ZXh0JywgdGhpcy5ibGFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIG9mIHRoZSB2YXJpYWJsZSB0aGlzLnBvc1lcbiAgICAgKiBAcGFyYW0ge2ludH0gdmFsIFZhbHVlIHRoYXQgd2lsbCBiZSBzdG9ja2VkIGluIHRoZSB2YXJpYWJsZSB0aGlzLnBvc1lcbiAgICAgKi9cbiAgICBzZXRQb3NZKHZhbCkge1xuICAgICAgICB0aGlzLnBvc1kgPSB2YWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRoZSBIVE1MIEVsZW1lbnRzIG9mIHRoZSBGcmFtZSBhbmQgYWRkIHRoZW0gdG8gdGhlIG1haW5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7RWxlbWVudH0gVGhlIFNWRyBlbGVtZW50IHRoYXQgY29udGFpbnMgdGhlIHNjcmVlbiBmcmFtZVxuICAgICAqL1xuICAgIGNyZWF0ZUhUTUxOb2RlRnJhbWUoKSB7XG4gICAgICAgIC8vIFRoZSBkaXYgY29udGFpbmVyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnZnJhbWUnKTtcblxuICAgICAgICAvLyBUaGUgZGl2IGJhY2tncm91bmRcbiAgICAgICAgY29uc3QgYmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgYmcuY2xhc3NMaXN0LmFkZCgnZnJhbWVfX2JnJyk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChiZyk7XG5cbiAgICAgICAgLy8gQWRkIHRoZSBTVkdcbiAgICAgICAgY29uc3Qgc3ZnID0gYDxzdmcgdmVyc2lvbj1cIjEuMVwiIGlkPVwiTGF5ZXJfMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDM5MyA2ODBcIiBjbGFzcz1cInN2Zy1yZXNwb25zaXZlIGZyYW1lX19zdmdcIj5cbiAgICAgICAgPGcgZmlsbD1cIm5vbmVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDAgMSlcIj48cGF0aCBmaWxsPVwiIzJCMkIyQlwiIGQ9XCJNMzUzIDBjMjIuMDkxMzkgMCA0MCAxNy45MDg2MSA0MCA0MHY1OThjMCAyMi4wOTEzOS0xNy45MDg2MSA0MC00MCA0MEg0MGMtMjIuMDkxMzkgMC00MC0xNy45MDg2MS00MC00MFY0MEMwIDE3LjkwODYxIDE3LjkwODYxIDAgNDAgMGgzMTN6bS0xMyAxOEg1NGMtMjIuMDkxMzkgMC00MCAxNy45MDg2MS00MCA0MHY1NTBjMCAyMi4wOTEzOSAxNy45MDg2MSA0MCA0MCA0MGgyODZjMjIuMDkxMzkgMCA0MC0xNy45MDg2MSA0MC00MFY1OGMwLTIyLjA5MTM5LTE3LjkwODYxLTQwLTQwLTQwelwiLz48cGF0aCBmaWxsPVwiI0Y3RjdGN1wiIGZpbGwtb3BhY2l0eT1cIi4yNVwiIGQ9XCJNMTQgNjA4YzAgMjIuMDkxMzkgMTcuOTA4NjEgNDAgNDAgNDBoMjg2YzIyLjA5MTM5IDAgNDAtMTcuOTA4NjEgNDAtNDB2MTJjMCAyMi4wOTEzOS0xNy45MDg2MSA0MC00MCA0MEg1NGMtMjIuMDkxMzkgMC00MC0xNy45MDg2MS00MC00MHpcIi8+PHJlY3Qgd2lkdGg9XCIzNjZcIiBoZWlnaHQ9XCI2MzBcIiB4PVwiMTRcIiB5PVwiMThcIiBzdHJva2U9XCIjMDAwXCIgc3Ryb2tlLXdpZHRoPVwiM1wiIHJ4PVwiNDBcIi8+PC9nPlxuICAgIDwvc3ZnPmA7XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgKz0gc3ZnO1xuXG4gICAgICAgIC8vIEFwcGVuZCB0aGUgY29udGFpbmVyIHRvIHRoZSBtYWluXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4nKS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxufSIsImltcG9ydCBTY3JlZW5GcmFtZSBmcm9tICcuL2NvbXBvbmVudHMvU2NyZWVuRnJhbWUnO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgY29uc3QgSFRNTE5vZGVFeHBlcmllbmNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmV4cGVyaWVuY2UnKTtcbiAgICBjb25zdCBzY3JlZW5GcmFtZSA9IG5ldyBTY3JlZW5GcmFtZShIVE1MTm9kZUV4cGVyaWVuY2UpO1xuICAgIHNjcmVlbkZyYW1lLmluaXQoKTtcbn0pIl0sInNvdXJjZVJvb3QiOiIifQ==